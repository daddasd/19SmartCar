<<<<<<< HEAD
C251 COMPILER V5.60.0,  main                                                               03/05/24  16:21:03  PAGE 1   
=======
C251 COMPILER V5.60.0,  main                                                               05/05/24  11:48:16  PAGE 1   
>>>>>>> Menu


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Out_File\main.obj
COMPILER INVOKED BY: E:\Keil5C251\C251\BIN\C251.EXE ..\USER\src\main.c XSMALL WARNINGLEVEL(3) OPTIMIZE(0,SPEED) BROWSE I
                    -NCDIR(..\..\Libraries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfree_peripheral;..\CODE;..\USER\i
                    -nc;..\USER\src;..\USER\Hardware;..\USER\Hardware) DEBUG PRINT(.\Out_File\main.lst) TABS(2) OBJECT(.\Out_File\main.obj) 

stmt  level    source

    1          
    2          #include "headfile.h"
    3          //你不玩原神，小车怎么启动啊 ! ! !
    4          
    5          
    6          /**
    7          *@Pin Motor:42,14(pwm),52,17(pwm)
    8          *@Pin ADC: P03,02,01,11,10,06,02,10;P05(给采集电池电压)
    9          *@Pin TFT: P25,23,20,21,22,27
   10          *@Pin Encoder : P34-L P35-R  与GND上   计高低电平 P16-L P50-R TIM4 与VCC下
   11          *@Pin KEY_Pin   P37（上，加）,36（确定）,45（下，减）,43（返回）
   12          *@Pin TOF  IIC SDA: P15 SCL 33 24 51
   13          *@Pin mpu6050 SCL P40 SDA P41
   14          *@Pin 下载: UART1_RX_P30, UART1_TX_P31
   15          *@Pin Buzzer: P13
   16          *@Pin RGB: P26
   17          **/  
   18          
   19          
   20          #include "myconfig.h"
   21          
   22          
   23          //注意10000是最大占空比 PWM
   24          
   25          //圣经：小车不会因为你把他弄得太丑，他只会嫌弃自己让你在终点等的太久
   26          
   27          // 关于内核频率的设定，可以查看board.h文件
   28          // 在board_init中,已经将P54引脚设置为复位
   29          // 如果需要使用P54引脚,可以在board.c文件中的board_init()函数中删除SET_P54_RESRT即可
   30          
   31          int flag=0;
   32          int menu = 0;
<<<<<<< HEAD
   33          void main()
   34          {
   35   1        int i=0;
   36   1        clock_init(SYSTEM_CLOCK_56M); // 初始化系统频率,勿删除此句代码。
   37   1        board_init();         // 初始化寄存器,勿删除此句代码。
   38   1        // 此处编写用户代码 例如外设初始化代码等
   39   1        imu660ra_init(); // 陀螺仪初始化
   40   1        uart_init(UART_1,UART1_RX_P30, UART1_TX_P31, 1000000, TIM_2); 
   41   1        //ips114_init();
   42   1        oled_init();     
   43   1        oled_fill(0x00);  
   44   1        delay_init();
   45   1        Inductance_Init(); //adc采集初始化
   46   1        Motor_Init();      //电机初始化
   47   1        Motor_SET_PID(Motor_P,Motor_I,0);
   48   1      
   49   1        
   50   1        
   51   1          // 此处编写用户代码 例如外设初始化代码等
   52   1          while(1)
   53   1          {
   54   2          imu660ra_get_gyro();
   55   2          menu = First_menu();
   56   2      
   57   2          if (menu == 1)
C251 COMPILER V5.60.0,  main                                                               03/05/24  16:21:03  PAGE 2   

   58   2            Second_Element_menu();
   59   2          if (menu == 2)
   60   2            Second_Motor_menu();
*** WARNING C140 IN LINE 60 OF ..\USER\src\main.c: 'Second_Motor_menu' undefined; assuming 'extern int Second_Motor_menu
             -()'
   61   2          if (menu == 3)
   62   2            Second__NWHuan_menu();
   63   2          if (menu == 4)
   64   2            Second__Speed_menu();
   65   2          if (menu == 5)
   66   2            Show_Val_Menu();
   67   2          if (menu == 6)
   68   2          {
   69   3            flag = 1;
   70   3            oled_printf_float(45, 4, angle1, 5, 6);
   71   3            if (flag == 1)
   72   3            {
   73   4              Encoder_Time_Init();
   74   4              flag = 0;
   75   4            }
   76   3            menu = 0;
   77   3            }
   78   2          }
   79   1      }
   80          
   81          
   82          
   83                                               
=======
   33          
   34          int Car_Start_Flag = 0;
   35          int Car_Stop_Flag = 0;
   36          float Gyro_Diff = 0;
   37          void main()
   38          {
   39   1        int i=0;
   40   1        int32 ns_delay = 0xffffffff;
   41   1        clock_init(SYSTEM_CLOCK_56M); // 初始化系统频率,勿删除此句代码。
   42   1        board_init();         // 初始化寄存器,勿删除此句代码。
   43   1          // 此处编写用户代码 例如外设初始化代码等
   44   1        GPIO_Init();
   45   1        ALL_Peripheral_Init();
   46   1        Gyro_Diff=gyro_zero_wander(); // 减去飘零 现在是MPU6050到时候要改成IMU66ORA
   47   1        delay_ms(500);
   48   1        while (1)
   49   1        {
   50   2          menu = First_menu();
   51   2          if(menu == 1) Second_Element_menu();
   52   2          if(menu == 2) Second_Motor_menu();
*** WARNING C140 IN LINE 52 OF ..\USER\src\main.c: 'Second_Motor_menu' undefined; assuming 'extern int Second_Motor_menu
             -()'
   53   2          if(menu == 3) Second__NWHuan_menu();
   54   2          if(menu == 4) Second__Speed_menu();
   55   2          if(menu == 5) Show_Val_Menu();
C251 COMPILER V5.60.0,  main                                                               05/05/24  11:48:16  PAGE 2   

   56   2          if(menu == 6){
   57   3            Car_Start_Flag = 1;
   58   3          }
   59   2        }
   60   1      }
   61          
   62          
   63          
   64                                               
>>>>>>> Menu


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       153     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =        18     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        32     ------
End of Module Information.


C251 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
